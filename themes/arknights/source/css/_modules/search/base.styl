@import 'single_page'

#search-header
  pointer-events all
  position relative
  input
    padding unset
    box-sizing border-box
    color var(--theme-text-light)
    position relative
    &::placeholder
      transition .3s
    font-size 15px
    height 40px
    background-color unset
    border unset
    outline none
    width 100%
  .navItemTitle
    overflow hidden
    &:hover
      margin unset
    &::before, &::after
      display block
      content ''
      position absolute

#search-holder
  @media (min-width: 1024px)
    height 40px
  @media (max-width: 1023px)
    height 2.82em
  display none

.search #search-holder
  display block
  
main:not(.up) .search #search-header
  position absolute
  // top 40px
  top calc(2em+64px)
  input
    animation get-out .6s

@media ( min-width 1024px )
  // .search-popup
  .search-popup > .search-result
    background-color var(--theme-bg-trans0)
  #search-header .navItemTitle
    &::before
      z-index -2
    &::after
      top 0
      width 0
      height 100%
      transition .3s
      z-index -1
      background-color var(--theme-highlight)
    &:hover
      input::placeholder
        transition .3s
        color var(--theme-text-hover)
      &::after
        transition .3s
        width 100%
        background-color var(--theme-highlight)

.search-popup
  scrollbar-width thin
  pointer-events all
  z-index 20
  transition transform .6s
  overflow-wrap anywhere
  position fixed
  bottom 0
  height calc(100vh - 120px - 4em)
  @media ( max-width 1023px )
    width 428px
    max-width 100%
  width 32%
  padding 0 0 0 1px
  overflow-y auto
#loading
  font-family 'Fira Code'
  display flex
  justify-content center
  div
    display inline-block
  p
    animation 2s loading infinite steps(4,jump-none)
    overflow-wrap normal
    overflow hidden
    display table-caption

.up + .search-popup
  @media ( max-width 1023px )
    position fixed
    bottom 0
    height calc(100vh - 50px - 2em)
    width 428px
    max-width 100%

@keyframes loading
  0%
    width calc(100% - 1.5em)
  100%
    width 100%

#search-result
  width 100%
  .recent-post
    // @media ( max-width 1023px )
    //   background-color none;
    font-family 'Noto Sans','Noto Sans SC','Noto Sans JP','Microsoft Yahei','sans-serif'
    margin 0
    padding 8px
    border none
    border-top 1px solid var(--theme-border-soft)
    border-bottom 1px solid var(--theme-border-soft)
    p
      margin .5em
      max-height 60px
      white-space initial
      overflow hidden
      -webkit-line-clamp 2
      -webkit-box-orient vertical
      display -webkit-box
      // text-overflow ellipsis
      // white-space nowrap
    b
      color var(--theme-text-light)
    &:hover .search-keyword
      color var(--theme-subcolor)
      transition .3s
      background-color unset
    overflow hidden
    .search-keyword
      background-color var(--theme-highlight)
      color var(--theme-text-search-keyword)
    .search-result-title
      font-size 1.1em
#no-result p
  text-align center

.up + .search-popup .recent-post
    background-color var(--theme-bg-cover)
    &:hover
      transition .3s
      background-color var(--theme-highlight)

// @media ( min-width 1024px )
.blur
  main
    pointer-events none 
    backdrop-filter blur(24px)
    -webkit-backdrop-filter blur(24px)
  canvas
    backdrop-filter blur(24px)
    -webkit-backdrop-filter blur(24px)
  article,
  aside,
  #canvas-dust
    filter blur(24px)
  #Archives, #Categories, #Tags, .posts, #post-bg
    backdrop-filter none
    -webkit-backdrop-filter none
